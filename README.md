# Проектная работа 11-го спринта

[Макет](<https://www.figma.com/file/vIywAvqfkOIRWGOkfOnReY/React-Fullstack_-Проектные-задачи-(3-месяца)_external_link?type=design&node-id=0-1&mode=design>)

[Чеклист](https://www.notion.so/praktikum/0527c10b723d4873aa75686bad54b32e?pvs=4)

## Этапы работы:

1. Разверните проект и ознакомьтесь с кодом. Все необходимые вам компоненты уже созданы и лежат в папке `src/components`

2. Настройте роутинг.

3. Напишите функционал запросов данных с сервера, используя `Redux` и глобальный `store`. Сами "ручки" уже прописаны и лежат в `utils/burger-api.ts`

4. Настройте авторизацию и создайте защищённые роуты.

## Важно:

Для корректной работы запросов к серверу необходимо добавить переменную BURGER_API_URL в окружение. Сама ссылка находится в файле `.env.example`.



## Тестирование  
### ⚙ Настройка

В проект добавлены и настроены две системы тестирования:

Jest — для юнит-тестов Redux-редьюсеров и логики;

Cypress — для интеграционных e2e-тестов пользовательских сценариев.

Команды запуска определены в разделе scripts файла package.json:

### Запуск всех Jest-тестов
`npm run test  `

### Запуск Jest с отчётом покрытия
`npm run test:coverage  `

### Запуск Cypress в интерактивном режиме
`npm run cy:open  `

### Запуск Cypress в headless-режиме
`npm run cy:run  `
## Jest-тесты

### Тесты написаны на TypeScript и находятся в папке  
`src/services/test/` (допустимый аналог структуры __tests__).

#### Все тесты покрывают следующие случаи:

- [x]  rootReducer — корректная инициализация стора при `UNKNOWN_ACTION`;

- [x]  burgerConstructorSlice — добавление, удаление и перестановка ингредиентов;

- [x]  ingredientsSlice — проверка обработки экшенов `pending / fulfilled / rejected;`

- [x]  ordersSlice и usersSlice — тесты на все асинхронные экшены `thunk`.

## Cypress-тесты

#### Файлы e2e-тестов расположены в `cypress/e2e/. `

#### Проверяется функциональность приложения:

#### Открытие и закрытие модального окна ингредиента, (а также корректное отображение его данных.) 


#### Добавление ингредиентов в конструктор бургера.

#### Оформление заказа:

#### мокируются ответы на запросы `/ingredients, /auth/user, /orders;`

#### подставляются фейковые токены в cookie и localStorage;

#### проверяется открытие модального окна с корректным номером заказа;

#### после закрытия модалки — очистка конструктора.

#### В `cypress/fixtures/` лежат JSON-моки (`ingredients.json, user.json, order.json`).
